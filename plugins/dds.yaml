apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: dds
spec:
  version: v0.2.6
  homepage: https://github.com/aws-containers/kubectl-detector-for-docker-socket
  shortDescription: Detect if workloads are mounting the docker socket
  description: |
    This plugin checks workloads in a Kubernetes cluster or manifest files
    and reports if any of the mounted volumes contain the string "docker.sock".
  caveats: |
    * If your docker socket is mounted at a different path name it will not
    be checked.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.6/kubectl-detector-for-docker-socket_v0.2.6_darwin_amd64.tar.gz
    sha256: eddf1e08a7dfdcb16e0e70319b8ca5f970ff0d394e5f430438679f82e439e6b1
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.6/kubectl-detector-for-docker-socket_v0.2.6_darwin_arm64.tar.gz
    sha256: ee8cd1f0f20f948acd105a320fbab19a3589547bf2811fe74e32a7f237d1b31c
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.6/kubectl-detector-for-docker-socket_v0.2.6_linux_amd64.tar.gz
    sha256: bb4a6a842406d606b250b0a5a82fbf2d0f81abb54f22e114bdc80d480668d8c4
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.6/kubectl-detector-for-docker-socket_v0.2.6_windows_amd64.tar.gz
    sha256: 4fe0c7dc8812d6e72433d0b31b69018240e7fbbe52e4a3805845ade95314830c
    bin: "./kubectl-dds.exe"
    files:
    - from: kubectl-dds.exe
      to: .
    - from: LICENSE
      to: .