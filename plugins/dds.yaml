apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: dds
spec:
  version: v0.2.5
  homepage: https://github.com/aws-containers/kubectl-detector-for-docker-socket
  shortDescription: Detect if workloads are mounting the docker socket
  description: |
    This plugin checks workloads in a Kubernetes cluster or manifest files
    and reports if any of the mounted volumes contain the string "docker.sock".
  caveats: |
    * If your docker socket is mounted at a different path name it will not
    be checked.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.5/kubectl-detector-for-docker-socket_v0.2.5_darwin_amd64.tar.gz
    sha256: b365f5e1c79cd0e4f025691cbb0f18de14084e1063ce8508e1dbe1667eb2b055
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.5/kubectl-detector-for-docker-socket_v0.2.5_darwin_arm64.tar.gz
    sha256: 3ac6739ac4df9a0affe4de72e5680b2895bbd621dcec233c19edb72e1b3147ab
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.5/kubectl-detector-for-docker-socket_v0.2.5_linux_amd64.tar.gz
    sha256: 6b244ae039a077da1e5a56f9d78317b5abc9cfc3605ba6c15153605f7086f553
    bin: "./kubectl-dds"
    files:
    - from: kubectl-dds
      to: .
    - from: LICENSE
      to: .
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/aws-containers/kubectl-detector-for-docker-socket/releases/download/v0.2.5/kubectl-detector-for-docker-socket_v0.2.5_windows_amd64.tar.gz
    sha256: 411de7ea0eb6a5255ec7427e8d4d08444622fcfa5e3d367d5ed85b50d30a3f2b
    bin: "./kubectl-dds.exe"
    files:
    - from: kubectl-dds.exe
      to: .
    - from: LICENSE
      to: .