apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: vpa-recommendation
spec:
  version: v0.4.0
  homepage: https://github.com/wI2L/kubectl-vpa-recommendation
  shortDescription: Compare VPA recommendations to actual resources requests
  description: |
    This plugin prints a table that show the percentage increase/decrease
    of the selected VerticalPodAutoscaler recommendations compared to the
    targeted controller's pod resource requests.
  caveats: |
    The plugin recognizes only some well-known controllers such as:
      - CronJob
      - DaemonSet
      - Deployment
      - Job
      - ReplicaSet
      - ReplicationController
      - StatefulSet

    The autoscaling.k8s.io/v1 API is required for the plugin to work:
    https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/wI2L/kubectl-vpa-recommendation/releases/download/v0.4.0/kubectl-vpa-recommendation_v0.4.0_darwin_amd64.tar.gz
    sha256: 8e30e5869d4a9a3194e2178f86ad60c4d7b330405d78a48860231a38a65f33f0
    bin: kubectl-vpa-recommendation
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/wI2L/kubectl-vpa-recommendation/releases/download/v0.4.0/kubectl-vpa-recommendation_v0.4.0_darwin_arm64.tar.gz
    sha256: 39717b23d11d0d3b99714a474287398d40c1f46bdb33ef996b25b7debc28cdd7
    bin: kubectl-vpa-recommendation
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/wI2L/kubectl-vpa-recommendation/releases/download/v0.4.0/kubectl-vpa-recommendation_v0.4.0_linux_amd64.tar.gz
    sha256: c2d0c2f3552bb024ec5885df81ef03bce2aa25bebfbfe1bdcbe70b976390315d
    bin: kubectl-vpa-recommendation
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/wI2L/kubectl-vpa-recommendation/releases/download/v0.4.0/kubectl-vpa-recommendation_v0.4.0_linux_arm64.tar.gz
    sha256: fab2c2e46b39ff16d3acd41133288b152983ad4d71dad0c30c83d2529267f0ad
    bin: kubectl-vpa-recommendation
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/wI2L/kubectl-vpa-recommendation/releases/download/v0.4.0/kubectl-vpa-recommendation_v0.4.0_windows_amd64.zip
    sha256: 57473563e4c071f862f3adc2b6eb4e38ff74d75d414226f3fe63b16987acbd41
    bin: kubectl-vpa-recommendation.exe