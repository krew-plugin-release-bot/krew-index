apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: gke-policy
spec:
  shortDescription: Validates GKE clusters configuration
  homepage: https://github.com/google/gke-policy-automation
  description: |
    Tool and policy library for validating Google Kubernetes Engine clusters
    against the configuration best practices and scalability limits.
  caveats: |
    The plugin requires Google Cloud credentials to work.
    Use "gcloud auth application-default login" command to authenticate or
    specify credentials file as an argument.
  version: v1.4.2
  platforms:
    - bin: gke-policy
      selector:
        matchLabels:
          os: linux
          arch: arm
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_linux_arm.zip
      sha256: da7b7effd6f73f5cc1ced44ee7da982e978465c70517eb15ecc066cd5706e071
    - bin: gke-policy
      selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_linux_amd64.zip
      sha256: 491db45cdf38a3a911856031920b293f5cdce38de66004c34344b93b8865b6a8
    - bin: gke-policy
      selector:
        matchLabels:
          os: linux
          arch: arm64
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_linux_arm64.zip
      sha256: 061efa44d9c90b9927e361bf3f081f667e67e6ee548a1479e23efff0c19d16d1
    - bin: gke-policy.exe
      selector:
        matchLabels:
          os: windows
          arch: 386
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_windows_386.zip
      sha256: 59835c222a0e9a0d056d8dd3e95dd79feed8728df0de023196896300c854d1a8
    - bin: gke-policy.exe
      selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_windows_amd64.zip
      sha256: 750a2fba9b374b85e10e8b572650b256e244332aa70cee9b0b37b1653e760b01
    - bin: gke-policy
      selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_darwin_amd64.zip
      sha256: b69c0eb5e26dec68cca150b4792fd26d8155313ba3288ae427017bc4cdb28bf0
    - bin: gke-policy
      selector:
        matchLabels:
          os: darwin
          arch: arm64
      uri: https://github.com/google/gke-policy-automation/releases/download/v1.4.2/gke-policy-automation_v1.4.2_darwin_arm64.zip
      sha256: 06bc304beccabf3db056aa46f224ff23f2407d230b7f31fedb76a225a454753c
