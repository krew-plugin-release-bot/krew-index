apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: azad-proxy
spec:
  platforms:
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-darwin-amd64.zip
    sha256: 4c41c07e87e6274c6a36ffa009dcdc9839d042e77609c91bcccb448bdfd91a9e
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: amd64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-darwin-arm64.zip
    sha256: 7875b7d16e0572a0a11dcdf0e239009a6db7ed2d24a3f43a639b7452eed38c69
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: darwin
        arch: arm64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-linux-amd64.zip
    sha256: 6d59dd1204342ffb750d076f5a2b111e054d1e8f036c52945881f5c857599cf7
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: amd64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-linux-arm64.zip
    sha256: 7a61d22f18f766624212f46b7b86ee3507f24fa28690c4d0ad8b61a3f259c72e
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: arm64
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-linux-arm.zip
    sha256: 1313247b0ab2686e620f01c90d394654d035517bfbd36cc9bf8e47ac449668a4
    bin: kubectl-azad_proxy
    files:
    - from: kubectl-azad_proxy
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: linux
        arch: arm
  - uri: https://github.com/XenitAB/azad-kube-proxy/releases/download/v0.0.44/kubectl-azad_proxy-windows-amd64.zip
    sha256: c00644daf8c7fc51d2e3df3ee5d176d832556495422e2ee33ec2b66fb0ab7726
    bin: kubectl-azad_proxy.exe
    files:
    - from: kubectl-azad_proxy.exe
      to: .
    - from: LICENSE
      to: .
    selector:
      matchLabels:
        os: windows
        arch: amd64
  version: "v0.0.44"
  homepage: https://github.com/XenitAB/azad-kube-proxy
  caveats: |
    This plugin is used in combination with the azad-kube-proxy:
    - https://github.com/XenitAB/azad-kube-proxy

    There shouldn't be a use case where you can use the plugin without the proxy.
    If you haven't been asked by a cluster admin to install this plugin - it may
    not be the one you need.
  shortDescription: Generate and handle authentication for azad-kube-proxy
  description: |
    Works together with the proxy (Azure AD Kubernetes API Proxy: azad-kube-proxy)
    to make it easier to generate the kubeconfig and handles the authentication.
    The proxy itself enables you to use Azure AD to authenticate to any Kubernetes
    API, decouples you from the Cloud providers FQDNs and solves issues related 
    to Azure AD groups for users with more than 200 of them.
